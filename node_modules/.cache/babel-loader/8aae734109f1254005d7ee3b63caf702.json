{"ast":null,"code":"import _classCallCheck from \"/Users/michaelfoster/Git/mryum-avc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelfoster/Git/mryum-avc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelfoster/Git/mryum-avc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelfoster/Git/mryum-avc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelfoster/Git/mryum-avc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelfoster/Git/mryum-avc/src/components/Landing/Contact.js\";\nimport { createRouteNodeSelector } from 'redux-router5';\nimport { connect } from 'react-redux';\nimport React from 'react';\nimport LandingPageNav from './LandingPageNav.js';\nimport LandingPageFooter from './LandingPageFooter.js';\nimport SendEmail from './SendEmail.js';\nimport Airtable from 'airtable';\n\nvar LandingPageContact =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LandingPageContact, _React$Component);\n\n  function LandingPageContact() {\n    _classCallCheck(this, LandingPageContact);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LandingPageContact).apply(this, arguments));\n  }\n\n  _createClass(LandingPageContact, [{\n    key: \"saveEmail\",\n    // function to log email registrations in airtable\n    value: function saveEmail(e) {\n      e.preventDefault();\n      var email = e.target.firstChild.value;\n\n      if (email === '') {\n        return;\n      } // log emails from landing page\n\n\n      var base = Airtable.base(process.env.REACT_APP_AIRTABLE_DB); // log timestamp in db here\n\n      base('Registrations').create({\n        \"email\": email,\n        \"venue\": \"website registration - post BFF integration\"\n      }, function (err, record) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n\n        document.querySelectorAll('.emailCollect').forEach(function (eC) {\n          eC.value = \"Check out some of our featured menus!\";\n          eC.disabled = true;\n        });\n        document.querySelectorAll('.emailBtn').forEach(function (eB) {\n          eB.disabled = true;\n          eB.classList.add('tiny');\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"landingPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"hero contactHero\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(LandingPageNav, {\n        showHIW: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"heroText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Let's have a chat!\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"We want to hear from you. Submit the form below and we'll be in touch soon.\"))), React.createElement(\"div\", {\n        className: \"emailForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(SendEmail, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(LandingPageFooter, {\n        saveEmail: this.props.saveEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LandingPageContact;\n}(React.Component);\n\nexport default connect(createRouteNodeSelector('faq'))(LandingPageContact);","map":{"version":3,"sources":["/Users/michaelfoster/Git/mryum-avc/src/components/Landing/Contact.js"],"names":["createRouteNodeSelector","connect","React","LandingPageNav","LandingPageFooter","SendEmail","Airtable","LandingPageContact","e","preventDefault","email","target","firstChild","value","base","process","env","REACT_APP_AIRTABLE_DB","create","err","record","console","error","document","querySelectorAll","forEach","eC","disabled","eB","classList","add","props","saveEmail","Component"],"mappings":";;;;;;AAAA,SAASA,uBAAT,QAAwC,eAAxC;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,iBAAP,MAA8B,wBAA9B;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,OAAOC,QAAP,MAAqB,UAArB;;IAEMC,kB;;;;;;;;;;;;;AAEJ;8BACUC,C,EAAG;AACXA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASC,UAAT,CAAoBC,KAAhC;;AACA,UAAIH,KAAK,KAAK,EAAd,EAAkB;AAChB;AACD,OALU,CAOX;;;AACA,UAAII,IAAI,GAAGR,QAAQ,CAACQ,IAAT,CAAcC,OAAO,CAACC,GAAR,CAAYC,qBAA1B,CAAX,CARW,CAUX;;AACAH,MAAAA,IAAI,CAAC,eAAD,CAAJ,CAAsBI,MAAtB,CAA6B;AAC3B,iBAASR,KADkB;AAE3B,iBAAS;AAFkB,OAA7B,EAGG,UAASS,GAAT,EAAcC,MAAd,EAAsB;AACvB,YAAID,GAAJ,EAAS;AACPE,UAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACA;AACD;;AACDI,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,eAA1B,EAA2CC,OAA3C,CAAmD,UAACC,EAAD,EAAQ;AACzDA,UAAAA,EAAE,CAACb,KAAH,GAAW,uCAAX;AACAa,UAAAA,EAAE,CAACC,QAAH,GAAc,IAAd;AACD,SAHD;AAIAJ,QAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCC,OAAvC,CAA+C,UAACG,EAAD,EAAQ;AACrDA,UAAAA,EAAE,CAACD,QAAH,GAAc,IAAd;AACAC,UAAAA,EAAE,CAACC,SAAH,CAAaC,GAAb,CAAiB,MAAjB;AACD,SAHD;AAID,OAhBD;AAiBD;;;6BAEQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,cAAD;AAAgB,QAAA,OAAO,EAAE,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAFF,CAJF,CAFF,EAcE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAdF,EAoBE,oBAAC,iBAAD;AAAmB,QAAA,SAAS,EAAG,KAAKC,KAAL,CAAWC,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBF,CADF;AAyBD;;;;EA3D8B9B,KAAK,CAAC+B,S;;AA8DvC,eAAehC,OAAO,CAACD,uBAAuB,CAAC,KAAD,CAAxB,CAAP,CAAyCO,kBAAzC,CAAf","sourcesContent":["import { createRouteNodeSelector } from 'redux-router5';\nimport {connect} from 'react-redux'\nimport React from 'react'\nimport LandingPageNav from './LandingPageNav.js'\nimport LandingPageFooter from './LandingPageFooter.js'\nimport SendEmail from './SendEmail.js'\nimport Airtable from 'airtable'\n\nclass LandingPageContact extends React.Component {\n\n  // function to log email registrations in airtable\n  saveEmail(e) {\n    e.preventDefault()\n    let email = e.target.firstChild.value\n    if (email === '') {\n      return\n    }\n\n    // log emails from landing page\n    let base = Airtable.base(process.env.REACT_APP_AIRTABLE_DB);\n\n    // log timestamp in db here\n    base('Registrations').create({\n      \"email\": email,\n      \"venue\": \"website registration - post BFF integration\"\n    }, function(err, record) {\n      if (err) {\n        console.error(err);\n        return;\n      }\n      document.querySelectorAll('.emailCollect').forEach((eC) => {\n        eC.value = \"Check out some of our featured menus!\"\n        eC.disabled = true\n      })\n      document.querySelectorAll('.emailBtn').forEach((eB) => {\n        eB.disabled = true\n        eB.classList.add('tiny')\n      })\n    });\n  }\n\n  render() {\n    return(\n      <div className=\"landingPage\">\n\n        <div className=\"hero contactHero\">\n\n          <LandingPageNav showHIW={false} />\n\n          <div className=\"heroText\">\n            <span>Let's have a chat!</span>\n            <span>We want to hear from you. Submit the form below and we'll be in touch soon.</span>\n\n          </div>\n\n        </div>\n\n        <div className=\"emailForm\">\n\n          { <SendEmail /> }\n\n        </div>\n\n        <LandingPageFooter saveEmail={ this.props.saveEmail } />\n\n      </div>\n    )\n  }\n}\n\nexport default connect(createRouteNodeSelector('faq') )(LandingPageContact);\n"]},"metadata":{},"sourceType":"module"}