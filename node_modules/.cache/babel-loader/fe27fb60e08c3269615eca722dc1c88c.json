{"ast":null,"code":"import _classCallCheck from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelfoster/Git/mryum/src/components/Menu/Menu.js\";\nimport React, { Component } from 'react';\nimport LoadingScreen from '../LoadingScreen/LoadingScreen.js';\nimport NotFound from '../NotFound/NotFound.js';\nimport Section from './Section.js';\nimport Water from './Water.js';\nimport MenuItem from './MenuItem.js';\nimport MenuList from './MenuList.js';\nimport Footer from './Footer.js';\nimport ItemDetail from './ItemDetail.js';\nimport { persistStore } from 'redux-persist';\n\nvar Menu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Menu, _Component);\n\n  function Menu(props) {\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Menu).call(this, props));\n  }\n\n  _createClass(Menu, [{\n    key: \"getTags\",\n    value: function getTags() {\n      var filter = this.props.filter;\n      var tagsInUse = [];\n      Object.keys(filter).forEach(function (tag) {\n        if (filter[tag]) {\n          tagsInUse.push(tag);\n        }\n      });\n      return tagsInUse;\n    }\n  }, {\n    key: \"getSections\",\n    value: function getSections() {\n      var _this$props = this.props,\n          menuItems = _this$props.menuItems,\n          menuItemKeys = _this$props.menuItemKeys;\n      var tagsInUse = this.getTags();\n      var menuSections = {};\n      menuItemKeys.forEach(function (item) {\n        var placedSections = Object.keys(menuSections);\n        var menuItem = menuItems[item];\n        var section = menuItem.fields.Sections;\n\n        if (!placedSections.includes(section)) {\n          menuSections[section] = [menuItem];\n        } else {\n          menuSections[section] = menuSections[section].concat([menuItem]);\n        }\n      });\n      return menuSections;\n    }\n  }, {\n    key: \"getMenu\",\n    value: function getMenu() {\n      var _this$props2 = this.props,\n          filter = _this$props2.filter,\n          setSectionPosition = _this$props2.setSectionPosition,\n          lang = _this$props2.lang,\n          routeToItemDetail = _this$props2.routeToItemDetail;\n      var menuSections = this.getSections();\n      var tagsInUse = this.getTags();\n\n      if (menuSections.length === 0) {\n        return React.createElement(NotFound, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      } else {\n        var sections = [];\n        Object.keys(menuSections).forEach(function (section, index) {\n          sections.push(React.createElement(Section, {\n            index: index,\n            menuSection: menuSections[section],\n            name: section,\n            setSectionPosition: setSectionPosition,\n            tagsInUse: tagsInUse,\n            routeToItemDetail: routeToItemDetail,\n            lang: lang,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }));\n        });\n        return sections;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          filter = _this$props3.filter,\n          lang = _this$props3.lang,\n          updateFilter = _this$props3.updateFilter,\n          updateLang = _this$props3.updateLang,\n          sectionPositions = _this$props3.sectionPositions,\n          menuItems = _this$props3.menuItems,\n          itemId = _this$props3.itemId;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, itemId ? React.createElement(ItemDetail, {\n        details: menuItems[itemId].fields,\n        lang: lang,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }) : this.getMenu());\n    }\n  }]);\n\n  return Menu;\n}(Component);\n\nexport default Menu;","map":{"version":3,"sources":["/Users/michaelfoster/Git/mryum/src/components/Menu/Menu.js"],"names":["React","Component","LoadingScreen","NotFound","Section","Water","MenuItem","MenuList","Footer","ItemDetail","persistStore","Menu","props","filter","tagsInUse","Object","keys","forEach","tag","push","menuItems","menuItemKeys","getTags","menuSections","item","placedSections","menuItem","section","fields","Sections","includes","concat","setSectionPosition","lang","routeToItemDetail","getSections","length","sections","index","updateFilter","updateLang","sectionPositions","itemId","getMenu"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport LoadingScreen from '../LoadingScreen/LoadingScreen.js'\nimport NotFound from '../NotFound/NotFound.js'\nimport Section from './Section.js'\nimport Water from './Water.js'\nimport MenuItem from './MenuItem.js'\nimport MenuList from './MenuList.js'\nimport Footer from './Footer.js'\nimport ItemDetail from './ItemDetail.js'\nimport { persistStore } from 'redux-persist'\n\nclass Menu extends Component {\n  constructor(props) {\n     super(props)\n   }\n\n  getTags(){\n    const { filter } = this.props;\n    const tagsInUse = [];\n    Object.keys(filter).forEach(tag => {\n      if (filter[tag]) {\n        tagsInUse.push(tag);\n      }\n    });\n\n    return tagsInUse;\n  }\n\n  getSections(){\n    const { menuItems, menuItemKeys } = this.props;\n    const tagsInUse = this.getTags();\n    const menuSections = {};\n    menuItemKeys.forEach(item => {\n      const placedSections = Object.keys(menuSections);\n      const menuItem = menuItems[item];\n      const section = menuItem.fields.Sections;\n      if (!placedSections.includes(section)){\n        menuSections[section] = [menuItem];\n      }\n      else{\n        menuSections[section] = menuSections[section].concat([menuItem]);\n      }\n    });\n\n    return menuSections;\n  }\n\n  getMenu() {\n    const {\n      filter,\n      setSectionPosition,\n      lang,\n      routeToItemDetail,\n    } = this.props\n    const menuSections = this.getSections();\n    const tagsInUse = this.getTags();\n\n    if (menuSections.length === 0) {\n      return <NotFound/>;\n    } else {\n      let sections = []\n      Object.keys(menuSections).forEach((section,index) => {\n          sections.push(\n            <Section\n              index={index}\n              menuSection={menuSections[section]}\n              name={section}\n              setSectionPosition={setSectionPosition}\n              tagsInUse={tagsInUse}\n              routeToItemDetail={routeToItemDetail}\n              lang={lang}\n            />\n          )\n        });\n      return sections;\n    }\n  }\n\n  render() {\n    const {\n      filter,\n      lang,\n      updateFilter,\n      updateLang,\n      sectionPositions,\n      menuItems,\n      itemId,\n    } = this.props\n\n    return (\n      <div>\n        {\n          itemId\n            ? <ItemDetail details={menuItems[itemId].fields} lang={lang} />\n            : this.getMenu()\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}