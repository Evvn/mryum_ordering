{"ast":null,"code":"import _classCallCheck from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michaelfoster/Git/mryum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/michaelfoster/Git/mryum/src/components/Menu/Section.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport MenuItem from './MenuItem';\nimport MenuList from './MenuList';\n\nvar Section =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Section, _React$Component);\n\n  function Section() {\n    _classCallCheck(this, Section);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Section).apply(this, arguments));\n  }\n\n  _createClass(Section, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          name = _this$props.name,\n          setSectionPosition = _this$props.setSectionPosition;\n      var position = ReactDOM.findDOMNode(this).getBoundingClientRect();\n      console.log(ReactDOM.findDOMNode(this));\n      setSectionPosition(name.split('%')[0], position);\n    }\n  }, {\n    key: \"processItem\",\n    value: function processItem(item, index) {\n      var _this$props2 = this.props,\n          tagsInUse = _this$props2.tagsInUse,\n          routeToItemDetail = _this$props2.routeToItemDetail,\n          lang = _this$props2.lang;\n      var tags = item.fields.Tags; // If menu item tags match any tags in filter\n\n      if (tagsInUse.length > 0 && tagsInUse.some(function (tag) {\n        return tags.includes(tag);\n      }) || tagsInUse.length === 0) {\n        return React.createElement(MenuItem, {\n          key: item.id,\n          item: item.fields,\n          itemIndex: index,\n          lang: lang,\n          onClick: function onClick(e) {\n            routeToItemDetail(e, item.id, lang);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        });\n      }\n\n      return '';\n    }\n  }, {\n    key: \"getList\",\n    value: function getList(item, index) {\n      // const { routeToItemDetail } = this.props;\n      return React.createElement(MenuList, {\n        key: item.id // disable menu list item click until ordering\n        // onClick={(e) => {\n        //     routeToItemDetail(e, item.id)\n        //   }}\n        ,\n        item: item.fields,\n        itemIndex: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"getSection\",\n    value: function getSection() {\n      var _this = this;\n\n      var _this$props3 = this.props,\n          menuSection = _this$props3.menuSection,\n          lang = _this$props3.lang,\n          routeToItemDetail = _this$props3.routeToItemDetail;\n      return menuSection.map(function (item, index) {\n        var hasTag = item.fields.Tags ? true : false;\n        var tags = item.fields.Tags;\n        var menuItemTemplate = React.createElement(MenuItem, {\n          key: item.id,\n          item: item.fields,\n          itemIndex: index,\n          lang: lang,\n          onClick: function onClick(e) {\n            routeToItemDetail(e, item.id, lang);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        });\n        return hasTag ? tags[0] !== 'LIST' ? _this.processItem(item, index) : _this.getList(item, index) : menuItemTemplate;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          name = _this$props4.name,\n          index = _this$props4.index,\n          tagsInUse = _this$props4.tagsInUse;\n      var subSection = \"\";\n\n      if (name.indexOf(\"%\") !== -1) {\n        subSection = name.substring(name.indexOf('%') + 1, name.length);\n        name = name.substring(0, name.indexOf('%'));\n      }\n\n      if (tagsInUse.length > 0) {\n        tagsInUse = tagsInUse.join(', ');\n        name = tagsInUse.replace('V', 'Vegetarian').replace('VE', 'Vegan').replace('GF', 'Gluten Free');\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"section \".concat(index === 0 ? 'sectionTaller' : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, name, React.createElement(\"span\", {\n        className: \"subSection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, subSection)), this.getSection());\n    }\n  }]);\n\n  return Section;\n}(React.Component);\n\nexport default Section;","map":{"version":3,"sources":["/Users/michaelfoster/Git/mryum/src/components/Menu/Section.js"],"names":["React","ReactDOM","MenuItem","MenuList","Section","props","name","setSectionPosition","position","findDOMNode","getBoundingClientRect","console","log","split","item","index","tagsInUse","routeToItemDetail","lang","tags","fields","Tags","length","some","tag","includes","id","e","menuSection","map","hasTag","menuItemTemplate","processItem","getList","subSection","indexOf","substring","join","replace","getSection","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom';\nimport MenuItem from './MenuItem';\nimport MenuList from './MenuList';\n\nclass Section extends React.Component {\n\n  componentDidMount(){\n    const { name, setSectionPosition } = this.props;\n    const position = ReactDOM\n      .findDOMNode(this)\n      .getBoundingClientRect();\n      console.log(ReactDOM\n        .findDOMNode(this))\n    setSectionPosition(name.split('%')[0], position);\n  }\n\n  \n\n  processItem(item, index){\n    const {\n      tagsInUse,\n      routeToItemDetail,\n      lang,\n    } = this.props;\n    const tags = item.fields.Tags;\n\n    // If menu item tags match any tags in filter\n    if ((tagsInUse.length > 0 && tagsInUse.some(tag => tags.includes(tag)))\n      || tagsInUse.length === 0) {\n        return (\n          <MenuItem\n            key={item.id}\n            item={item.fields}\n            itemIndex={index}\n            lang={lang}\n            onClick={(e) => {routeToItemDetail(e, item.id, lang)}}\n          />\n        );\n      }\n\n    return '';\n  }\n\n  getList(item, index){\n    // const { routeToItemDetail } = this.props;\n    return (\n      <MenuList\n        key={item.id}\n        // disable menu list item click until ordering\n        // onClick={(e) => {\n        //     routeToItemDetail(e, item.id)\n        //   }}\n        item={item.fields}\n        itemIndex={index}\n      />\n    );\n  }\n\n  getSection(){\n    const {\n      menuSection,\n      lang,\n      routeToItemDetail,\n    } = this.props;\n\n    return menuSection.map((item, index) => {\n      const hasTag = item.fields.Tags ? true : false;\n      const tags = item.fields.Tags;\n      const menuItemTemplate = (\n        <MenuItem\n          key={item.id}\n          item={item.fields}\n          itemIndex={index}\n          lang={lang}\n          onClick={(e) => {routeToItemDetail(e, item.id, lang)}}\n        />\n      );\n\n      return hasTag ? tags[0] !== 'LIST' ? this.processItem(item, index) : this.getList(item, index) : menuItemTemplate\n    });\n  }\n\n  render() {\n    let { name, index, tagsInUse } = this.props\n    let subSection = \"\"\n    if (name.indexOf(\"%\") !== -1) {\n      subSection = name.substring((name.indexOf('%') + 1), name.length)\n      name = name.substring(0, name.indexOf('%'))\n    }\n    if (tagsInUse.length > 0) {\n      tagsInUse = tagsInUse.join(', ')\n      name = tagsInUse.replace('V', 'Vegetarian').replace('VE', 'Vegan').replace('GF', 'Gluten Free')\n    }\n\n    return (\n      <div>\n        <h2 className={`section ${ index === 0 ? 'sectionTaller' : '' }` } >{ name }<span className=\"subSection\">{ subSection }</span></h2>\n        {this.getSection()}\n      </div>\n\n    )\n  }\n}\n\nexport default Section\n"]},"metadata":{},"sourceType":"module"}