{"ast":null,"code":"import _classCallCheck from \"D:\\\\Documents\\\\GitHub\\\\mryum-avc\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Documents\\\\GitHub\\\\mryum-avc\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Documents\\\\GitHub\\\\mryum-avc\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Documents\\\\GitHub\\\\mryum-avc\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Documents\\\\GitHub\\\\mryum-avc\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Documents\\\\GitHub\\\\mryum-avc\\\\src\\\\components\\\\Common\\\\MenuSearch.js\";\nimport React from 'react';\nimport { tmpdir } from 'os';\n\nvar MenuSearch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MenuSearch, _React$Component);\n\n  function MenuSearch(props) {\n    var _this;\n\n    _classCallCheck(this, MenuSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuSearch).call(this, props));\n\n    _this.search = function (input) {\n      var data = _this.props.data;\n\n      var _dataKeys = Object.keys(data);\n\n      if (input) {\n        var expression = new RegExp(\"\".concat(input), 'gi');\n        var bucket = [];\n\n        for (var _i = 0, _dataKeys2 = _dataKeys; _i < _dataKeys2.length; _i++) {\n          var key = _dataKeys2[_i];\n          var fields = data[key].fields;\n          console.log(fields['Sections']); // refactor to run async\n\n          if (expression.test(fields['Sections'])) {\n            var _fields = data[key].fields;\n\n            var searchScore = _this.score(_fields['Sections'], expression);\n\n            bucket.push({\n              result: _fields['Sections'],\n              score: searchScore\n            });\n          }\n\n          if (expression.test(fields['Price'])) {\n            var _fields2 = data[key].fields;\n\n            var _searchScore = _this.score(_fields2['Price'], expression);\n\n            bucket.push({\n              result: _fields2['Price'],\n              score: _searchScore\n            });\n          }\n\n          if (expression.test(fields['Item Name'])) {\n            var _fields3 = data[key].fields;\n\n            var _searchScore2 = _this.score(_fields3['Item Name'], expression);\n\n            bucket.push({\n              result: _fields3['Item Name'],\n              score: _searchScore2\n            });\n          }\n\n          if (expression.test(fields['Item Description'])) {\n            var _fields4 = data[key].fields;\n\n            var _searchScore3 = _this.score(_fields4['Item Description'], expression);\n\n            bucket.push({\n              result: _fields4['Item Description'],\n              score: _searchScore3\n            });\n          }\n        } // expression.sort((a,b) => (a.score < b.score) ? 1 : ((b.score < a.score) ? -1 : 0));\n\n\n        var actionables = [];\n        bucket.map(function (x) {\n          return actionables.push(x.result);\n        });\n        _this.result = actionables; //console.log(actionables);\n      }\n    };\n\n    _this.score = function (entry, regex) {\n      var matched = entry.match(regex);\n\n      if (matched) {\n        var result = matched.length / entry.length;\n        return result.toFixed(3);\n      }\n    };\n\n    _this.result = [];\n    return _this;\n  } // Sections: Drinks, Price: 4, Item Name: Coffee | Tea | Etc, Item Description: Batch Brew Filter \n\n\n  _createClass(MenuSearch, [{\n    key: \"render\",\n    value: function render() {\n      var data = this.props.data;\n      console.log(this.search('tea'));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, 'hello');\n    }\n  }]);\n\n  return MenuSearch;\n}(React.Component);\n\nexport default MenuSearch;","map":{"version":3,"sources":["D:\\Documents\\GitHub\\mryum-avc\\src\\components\\Common\\MenuSearch.js"],"names":["React","tmpdir","MenuSearch","props","search","input","data","_dataKeys","Object","keys","expression","RegExp","bucket","key","fields","console","log","test","searchScore","score","push","result","actionables","map","x","entry","regex","matched","match","length","toFixed","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { tmpdir } from 'os';\r\n\r\nclass MenuSearch extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.result = [];\r\n    }\r\n\r\n    // Sections: Drinks, Price: 4, Item Name: Coffee | Tea | Etc, Item Description: Batch Brew Filter \r\n    search = input => {\r\n        const {data} = this.props;\r\n        const _dataKeys = Object.keys(data);\r\n\r\n        if (input) {\r\n            let expression = new RegExp(`${input}`, 'gi');\r\n            \r\n            let bucket = [];\r\n            for (const key of _dataKeys) {\r\n                let fields = data[key].fields;\r\n                console.log(fields['Sections'])\r\n                // refactor to run async\r\n                if (expression.test(fields['Sections'])) {\r\n                    let fields = data[key].fields;\r\n                    let searchScore = this.score(fields['Sections'], expression);\r\n                    bucket.push({result: fields['Sections'], score: searchScore});\r\n                }\r\n\r\n                if (expression.test(fields['Price'])) {\r\n                    let fields = data[key].fields;\r\n                    let searchScore = this.score(fields['Price'], expression);\r\n                    bucket.push({result: fields['Price'], score: searchScore});\r\n                }\r\n\r\n                if (expression.test(fields['Item Name'])) {\r\n                    let fields = data[key].fields;\r\n                    let searchScore = this.score(fields['Item Name'], expression);\r\n                    bucket.push({result: fields['Item Name'], score: searchScore});\r\n                }\r\n\r\n                if (expression.test(fields['Item Description'])) {\r\n                    let fields = data[key].fields;\r\n                    let searchScore = this.score(fields['Item Description'], expression);\r\n                    bucket.push({result: fields['Item Description'], score: searchScore});\r\n                }\r\n\r\n            }\r\n\r\n            // expression.sort((a,b) => (a.score < b.score) ? 1 : ((b.score < a.score) ? -1 : 0));\r\n            let actionables = [];\r\n            bucket.map(x => actionables.push(x.result));\r\n            this.result = actionables;\r\n            //console.log(actionables);\r\n\r\n        }\r\n    }\r\n\r\n    score = (entry, regex) => {\r\n        let matched = entry.match(regex);\r\n        if (matched) {\r\n            let result = matched.length / entry.length;\r\n            return result.toFixed(3);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {data} = this.props;\r\n        console.log(this.search('tea'))\r\n        return ( \r\n            <div> \r\n                { 'hello' } \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MenuSearch;"]},"metadata":{},"sourceType":"module"}