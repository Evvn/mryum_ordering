{"ast":null,"code":"var getSubtotals = function getSubtotals(item) {\n  var itemClone = item;\n  var subtotal = 0;\n  item.addOns.map(function (addOn) {\n    subtotal = subtotal + addOn.price;\n  });\n  itemClone.subtotal = (item.price + subtotal) * item.quantity;\n  return itemClone;\n};\n\nvar addToOrder = function addToOrder(oldOrderState, newItem, quantity) {\n  var items = oldOrderState.items,\n      subtotal = oldOrderState.subtotal;\n  var added = false;\n  var newItems = [];\n  var orderTotal = 0;\n  items.map(function (item) {\n    var itemClone = item;\n\n    if (item.id === newItem.id) {\n      itemClone.quantity = itemClone.quanity + quantity;\n      added = true;\n    }\n\n    var itemOutput = getSubtotals(itemClone);\n    orderTotal = orderTotal + itemOutput.subtotal;\n    newItems.push(itemOutput);\n  });\n\n  if (!added) {\n    var _itemOutput = getSubtotals(itemClone);\n\n    orderTotal = orderTotal + _itemOutput.subtotal;\n    newItems.push(_itemOutput);\n  }\n\n  return {\n    items: newItems,\n    orderTotal: orderTotal\n  };\n};\n\nvar removeFromOrder = function removeFromOrder(oldOrderState, itemToRemove, quantity) {\n  var items = oldOrderState.items,\n      subtotal = oldOrderState.subtotal;\n  var newItems = [];\n  var orderTotal = 0;\n  items.map(function (item) {\n    var itemClone = item;\n\n    if (item.id !== itemToRemove.id) {\n      newItems.push(itemOutput);\n      orderTotal = orderTotal + itemClone.subtotal;\n    } else {\n      orderTotal = orderTotal - itemClone.subtotal;\n    }\n  });\n  return {\n    items: newItems,\n    orderTotal: orderTotal\n  };\n};","map":{"version":3,"sources":["/Users/michaelfoster/Git/mryum-avc/src/utils/orderutils.js"],"names":["getSubtotals","item","itemClone","subtotal","addOns","map","addOn","price","quantity","addToOrder","oldOrderState","newItem","items","added","newItems","orderTotal","id","quanity","itemOutput","push","removeFromOrder","itemToRemove"],"mappings":"AACA,IAAMA,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI,EAAI;AACzB,MAAMC,SAAS,GAAGD,IAAlB;AACA,MAAIE,QAAQ,GAAG,CAAf;AACAF,EAAAA,IAAI,CAACG,MAAL,CAAYC,GAAZ,CAAgB,UAAAC,KAAK,EAAI;AACrBH,IAAAA,QAAQ,GAAGA,QAAQ,GAAGG,KAAK,CAACC,KAA5B;AACH,GAFD;AAIAL,EAAAA,SAAS,CAACC,QAAV,GAAqB,CAACF,IAAI,CAACM,KAAL,GAAaJ,QAAd,IAA0BF,IAAI,CAACO,QAApD;AACA,SAAON,SAAP;AACH,CATD;;AAWA,IAAMO,UAAU,GAAG,SAAbA,UAAa,CAACC,aAAD,EAAgBC,OAAhB,EAAyBH,QAAzB,EAAsC;AAAA,MAC7CI,KAD6C,GACzBF,aADyB,CAC7CE,KAD6C;AAAA,MACtCT,QADsC,GACzBO,aADyB,CACtCP,QADsC;AAGrD,MAAIU,KAAK,GAAG,KAAZ;AACA,MAAMC,QAAQ,GAAG,EAAjB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACAH,EAAAA,KAAK,CAACP,GAAN,CAAU,UAAAJ,IAAI,EAAI;AACd,QAAIC,SAAS,GAAGD,IAAhB;;AACA,QAAGA,IAAI,CAACe,EAAL,KAAYL,OAAO,CAACK,EAAvB,EAA0B;AACtBd,MAAAA,SAAS,CAACM,QAAV,GAAqBN,SAAS,CAACe,OAAV,GAAoBT,QAAzC;AACAK,MAAAA,KAAK,GAAG,IAAR;AACH;;AACD,QAAMK,UAAU,GAAGlB,YAAY,CAACE,SAAD,CAA/B;AACAa,IAAAA,UAAU,GAAGA,UAAU,GAAGG,UAAU,CAACf,QAArC;AACAW,IAAAA,QAAQ,CAACK,IAAT,CAAcD,UAAd;AACH,GATD;;AAWA,MAAG,CAACL,KAAJ,EAAU;AACN,QAAMK,WAAU,GAAGlB,YAAY,CAACE,SAAD,CAA/B;;AACAa,IAAAA,UAAU,GAAGA,UAAU,GAAGG,WAAU,CAACf,QAArC;AACAW,IAAAA,QAAQ,CAACK,IAAT,CAAcD,WAAd;AACH;;AAGD,SAAO;AACHN,IAAAA,KAAK,EAAEE,QADJ;AAEHC,IAAAA,UAAU,EAAVA;AAFG,GAAP;AAKH,CA7BD;;AA+BA,IAAMK,eAAe,GAAG,SAAlBA,eAAkB,CAACV,aAAD,EAAgBW,YAAhB,EAA8Bb,QAA9B,EAA2C;AAAA,MACvDI,KADuD,GACnCF,aADmC,CACvDE,KADuD;AAAA,MAChDT,QADgD,GACnCO,aADmC,CAChDP,QADgD;AAG/D,MAAMW,QAAQ,GAAG,EAAjB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACAH,EAAAA,KAAK,CAACP,GAAN,CAAU,UAAAJ,IAAI,EAAI;AACd,QAAIC,SAAS,GAAGD,IAAhB;;AACA,QAAGA,IAAI,CAACe,EAAL,KAAYK,YAAY,CAACL,EAA5B,EAA+B;AAC3BF,MAAAA,QAAQ,CAACK,IAAT,CAAcD,UAAd;AACAH,MAAAA,UAAU,GAAGA,UAAU,GAAGb,SAAS,CAACC,QAApC;AACH,KAHD,MAII;AACAY,MAAAA,UAAU,GAAGA,UAAU,GAAGb,SAAS,CAACC,QAApC;AACH;AAEJ,GAVD;AAYA,SAAO;AACHS,IAAAA,KAAK,EAAEE,QADJ;AAEHC,IAAAA,UAAU,EAAVA;AAFG,GAAP;AAKH,CAtBD","sourcesContent":["\nconst getSubtotals = item => {\n    const itemClone = item;\n    let subtotal = 0;\n    item.addOns.map(addOn => {\n        subtotal = subtotal + addOn.price;\n    });\n\n    itemClone.subtotal = (item.price + subtotal) * item.quantity;\n    return itemClone;\n}\n\nconst addToOrder = (oldOrderState, newItem, quantity) => {\n    const { items, subtotal } = oldOrderState;\n\n    let added = false;\n    const newItems = [];\n    let orderTotal = 0;\n    items.map(item => {\n        let itemClone = item;\n        if(item.id === newItem.id){\n            itemClone.quantity = itemClone.quanity + quantity;\n            added = true;\n        }\n        const itemOutput = getSubtotals(itemClone);\n        orderTotal = orderTotal + itemOutput.subtotal;\n        newItems.push(itemOutput);\n    });\n    \n    if(!added){\n        const itemOutput = getSubtotals(itemClone);\n        orderTotal = orderTotal + itemOutput.subtotal;\n        newItems.push(itemOutput);\n    }\n\n\n    return {\n        items: newItems,\n        orderTotal\n    };\n\n};\n\nconst removeFromOrder = (oldOrderState, itemToRemove, quantity) => {\n    const { items, subtotal } = oldOrderState;\n\n    const newItems = [];\n    let orderTotal = 0;\n    items.map(item => {\n        let itemClone = item;\n        if(item.id !== itemToRemove.id){\n            newItems.push(itemOutput);\n            orderTotal = orderTotal + itemClone.subtotal;\n        }\n        else{\n            orderTotal = orderTotal - itemClone.subtotal;\n        }\n        \n    });\n\n    return {\n        items: newItems,\n        orderTotal\n    };\n\n};\n\n"]},"metadata":{},"sourceType":"module"}